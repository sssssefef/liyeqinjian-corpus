<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç§¦ç®€æ–‡ä¹¦è¯­æ–™åº“ Â· æ£€ç´¢ç³»ç»Ÿ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', 'Noto Serif SC', 'å®‹ä½“', SimSun, serif;
        }

        body {
            background-color: #f9f5ed;
            background-image: linear-gradient(#f1ebe4 1px, transparent 1px);
            background-size: 100% 20px;
            min-height: 100vh;
            padding: 2rem 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .container {
            max-width: 1200px;
            width: 100%;
            background: rgba(255, 255, 245, 0.85);
            box-shadow: 0 8px 20px rgba(60, 40, 20, 0.1);
            border: 1px solid #dac9b0;
            border-radius: 12px;
            padding: 2rem 1.8rem;
            backdrop-filter: blur(4px);
        }

        h1 {
            font-size: 2rem;
            font-weight: 400;
            color: #4d3e2e;
            border-bottom: 2px solid #b29e80;
            padding-bottom: 0.6rem;
            margin-bottom: 1.8rem;
            letter-spacing: 6px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        h1 span {
            background: #8b7a62;
            color: #fef7e9;
            font-size: 1rem;
            padding: 0.2rem 0.8rem;
            border-radius: 30px;
            margin-left: 1rem;
            font-weight: 300;
            letter-spacing: 2px;
        }

        .search-section {
            background: #e8e0d2;
            padding: 1.8rem 1.5rem;
            border-radius: 40px 8px 40px 8px;
            margin-bottom: 2.5rem;
            box-shadow: inset 0 0 0 1px #fff6e8, inset 0 0 0 2px #cab99f;
        }

        .search-box {
            display: flex;
            gap: 0.8rem;
            align-items: center;
            flex-wrap: wrap;
        }

        #searchInput {
            flex: 1;
            min-width: 260px;
            padding: 1rem 1.5rem;
            font-size: 1.1rem;
            border: 2px solid #9b8b74;
            border-radius: 50px;
            outline: none;
            background: #fffdf9;
            color: #2e2a24;
            transition: 0.2s;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05);
        }

        #searchInput:focus {
            border-color: #5e4e3a;
            background: #ffffff;
            box-shadow: 0 4px 12px rgba(120, 80, 50, 0.15);
        }

        #searchBtn {
            background: #5e4e3a;
            color: white;
            border: none;
            padding: 1rem 2.2rem;
            font-size: 1.1rem;
            border-radius: 50px;
            cursor: pointer;
            font-weight: 500;
            letter-spacing: 4px;
            transition: 0.2s;
            box-shadow: 0 4px 0 #3a2e22;
            border: 1px solid #aa9b86;
        }

        #searchBtn:hover {
            background: #4a3d2c;
            transform: translateY(-2px);
            box-shadow: 0 6px 0 #3a2e22, 0 6px 12px rgba(80, 60, 30, 0.2);
        }

        .stats {
            margin-top: 1rem;
            font-size: 0.9rem;
            color: #5c5348;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .reset-link {
            color: #6b3f2b;
            text-decoration: underline;
            cursor: pointer;
            font-weight: 500;
            padding: 0.3rem 1rem;
            background: rgba(255,255,240,0.6);
            border-radius: 30px;
        }

        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            margin-bottom: 1.2rem;
            border-left: 6px solid #b29e80;
            padding-left: 1rem;
        }

        .result-count {
            font-size: 1rem;
            color: #3e362e;
            background: #dcd0c0;
            padding: 0.4rem 1.2rem;
            border-radius: 30px;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            gap: 1.8rem;
        }

        .card {
            background: white;
            border: 1px solid #d4c4ae;
            border-radius: 16px 4px 16px 4px;
            padding: 1.4rem 1.2rem;
            box-shadow: 0 6px 14px rgba(80, 60, 30, 0.06);
            transition: 0.15s;
            display: flex;
            flex-direction: column;
            background: linear-gradient(145deg, #fffdf8, #fefaf4);
        }

        .card:hover {
            border-color: #a48e74;
            box-shadow: 0 10px 22px rgba(90, 70, 40, 0.1);
            transform: translateY(-3px);
        }

        .jian-number {
            font-size: 0.85rem;
            color: #7e6b56;
            background: #eee7dd;
            display: inline-block;
            padding: 0.3rem 1rem;
            border-radius: 30px;
            margin-bottom: 0.8rem;
            border: 1px solid #cfbea8;
            align-self: flex-start;
            font-weight: 500;
            letter-spacing: 1px;
        }

        .chinese {
            font-size: 1.2rem;
            font-weight: 500;
            color: #1f2a36;
            line-height: 1.6;
            margin-bottom: 0.8rem;
            padding-bottom: 0.6rem;
            border-bottom: 1px dashed #ccbbaa;
            word-break: break-word;
        }

        .english {
            font-size: 0.98rem;
            color: #3e4a4e;
            background: #f6f2ec;
            padding: 0.9rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            font-style: italic;
            word-break: break-word;
            border-left: 4px solid #b6ab9a;
        }

        .meta {
            display: flex;
            gap: 0.6rem;
            flex-wrap: wrap;
            margin-bottom: 0.6rem;
            font-size: 0.82rem;
            color: #6f5e4e;
        }

        .keyword {
            background: #d1c0ab;
            color: #1f1e1c;
            padding: 0.2rem 0.8rem;
            border-radius: 20px;
            font-weight: 500;
            border: 1px solid #ab9884;
        }

        .image-area {
            margin-top: 0.8rem;
            background: #f2efe8;
            border-radius: 12px;
            padding: 0.8rem;
            text-align: center;
            border: 1px dashed #aa9b86;
        }

        .image-area img {
            max-width: 100%;
            max-height: 160px;
            object-fit: contain;
            border-radius: 6px;
            border: 2px solid white;
            box-shadow: 0 4px 10px rgba(0,0,0,0.05);
        }

        .no-image {
            color: #988f84;
            font-size: 0.9rem;
            padding: 0.8rem;
            font-style: italic;
        }

        .no-result {
            text-align: center;
            padding: 4rem 2rem;
            background: #f5efe7;
            border-radius: 20px;
            color: #6a5e50;
            font-size: 1.2rem;
            border: 2px dashed #c0ad98;
        }

        footer {
            margin-top: 2.5rem;
            text-align: center;
            color: #8b7a62;
            font-size: 0.8rem;
            border-top: 1px solid #d6c6b2;
            padding-top: 1.8rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>
            ğ–¦¹ ç§¦ç®€æ–‡ä¹¦Â·è¯­æ–™åº“
            <span>v1.0</span>
        </h1>

        <!-- æœç´¢åŒº â€”â€” ä½ æƒ³è¦çš„æœç´¢æ¡† -->
        <div class="search-section">
            <div class="search-box">
                <input type="text" id="searchInput" placeholder="è¾“å…¥å…³é”®è¯ï¼šåŸæ—¦èˆ‚ / æ•¢è¨€ä¹‹ / èµ€ / ç¡è™åœ° â€¦" autofocus>
                <button id="searchBtn">æ£€ç´¢</button>
            </div>
            <div class="stats">
                <span>ğŸ“„ å½“å‰æ”¶å½• <span id="totalCount">0</span> æšç®€ç‰</span>
                <span class="reset-link" onclick="resetSearch()">â†º æ˜¾ç¤ºå…¨éƒ¨</span>
            </div>
        </div>

        <!-- ç»“æœæ•°é‡ + å¡ç‰‡å±•ç¤ºåŒº -->
        <div class="result-header">
            <span class="result-count" id="resultCount">å…± 0 æ¡ç»“æœ</span>
        </div>
        <div id="cardContainer" class="card-grid">
            <!-- åŠ¨æ€æ¸²æŸ“å¡ç‰‡ -->
        </div>
        <footer>
            æ•°å­—åŒ–è§†è§’Â·ç§¦ç®€æ–‡ä¹¦å¹³è¡Œè¯­æ–™åº“ Â· å›¾åƒ/æ‘¹æœ¬å±•ç¤º Â· æ£€ç´¢ç³»ç»Ÿ
        </footer>
    </div>

    <script>
        // ----------------------------------------------
        // 1. è¯­æ–™æ•°æ®ï¼ˆç§¦ç®€æ–‡ä¹¦ + å›¾ç‰‡å ä½/çœŸå®å›¾ç‰‡ï¼‰
        //    ä½ æŠŠè¿™é‡Œæ›¿æ¢æˆä½ è‡ªå·±çš„è¯­æ–™å³å¯ã€‚
        // ----------------------------------------------
        const corpus = [
            {
                id: "ç¡è™åœ°Â·ç§¦å¾‹åå…«ç§Â·1",
                chinese: "ç›—é‡‡äººæ¡‘å¶ï¼Œèµƒä¸ç›ˆä¸€é’±ï¼Œä½•è®ºï¼Ÿèµ€å¾­ä¸‰æ—¬ã€‚",
                english: "For stealing mulberry leaves from another's plantation, if the value of the stolen goods does not amount to one cash, how should he be sentenced? He should be fined three ten-day periods of forced labor.",
                translator: "A.F.P. HulsewÃ«",
                source: "Remnants of Châ€˜in Law",
                year: "1985",
                type: "å¾‹ä»¤",
                keywords: ["ç›—é‡‡", "æ¡‘å¶", "èµ€", "å¾­", "åŸæ—¦èˆ‚"],   // åŒ…å«å¯æœå…³é”®è¯
                image: "https://www.bmnh.org.cn/Uploads/2019-03-21/5c935efb29b29.jpg",  // ç®€ç‰å‚è€ƒå›¾ï¼ˆå¯ç”¨çœŸå®å›¾ç‰‡ï¼‰
                imageCaption: "ç¡è™åœ°ç§¦ç®€ Â· æ‘¹æœ¬ï¼ˆç¤ºæ„ï¼‰"
            },
            {
                id: "é‡Œè€¶Â·8-133",
                chinese: "æ•¢è¨€ä¹‹ï¼šè¿é™µåº“çœŸâ–¡ã€‚",
                english: "I venture to report: The Qianling storehouse trulyâ€¦",
                translator: "é‡Œè€¶ç§¦ç®€åšç‰©é¦†",
                source: "ã€Šé‡Œè€¶ç§¦ç®€åšç‰©é¦†å›¾å½•ã€‹",
                year: "2012",
                type: "è¡Œæ”¿æ–‡ä¹¦",
                keywords: ["æ•¢è¨€ä¹‹", "è¿é™µ", "åº“", "é‡Œè€¶"],
                image: "https://www.kaogu.cn/uploads/images/2021/0923/20210923022121554.png",  // é‡Œè€¶ç®€ç‰ç…§ç‰‡
                imageCaption: "é‡Œè€¶ç§¦ç®€ 8-133ï¼ˆå±€éƒ¨ï¼‰"
            },
            {
                id: "ç¡è™åœ°Â·æ—¥ä¹¦Â·ç”²ç§Â·20",
                chinese: "æˆŒï¼Œç”Ÿå­ï¼Œå¥½è¡£ã€‚",
                english: "On xu day, if a child is born, he will like fine clothes.",
                translator: "åˆ˜ä¹è´¤",
                source: "ã€Šç¡è™åœ°ç§¦ç®€æ—¥ä¹¦ç ”ç©¶ã€‹è‹±è¯‘ç« èŠ‚",
                year: "1994",
                type: "æ—¥ä¹¦",
                keywords: ["æˆŒ", "åœ°æ”¯", "ç”Ÿå­", "å¥½è¡£", "æ—¥ä¹¦"],
                image: "https://www.kaogu.cn/uploads/images/2021/0923/20210923021509962.png", // æ—¥ä¹¦å›¾ç‰ˆ
                imageCaption: "ç¡è™åœ°æ—¥ä¹¦ Â· ç”²ç§"
            },
            // ----- ä¸‹é¢ä½ å¯ä»¥ç»§ç»­æ·»åŠ æ›´å¤šè¯­æ–™ï¼Œæ ¼å¼åŒä¸Š -----
            {
                id: "å²³éº“åÂ·124",
                chinese: "èµ€äºŒç”²ï¼Œè€ã€‚",
                english: "Fined two suits of armor and shaved.",
                translator: "é™ˆæ¾é•¿",
                source: "å²³éº“ä¹¦é™¢è—ç§¦ç®€ï¼ˆè‹±è¯‘è®ºæ–‡ï¼‰",
                year: "2018",
                type: "å¾‹ä»¤",
                keywords: ["èµ€", "äºŒç”²", "è€", "åˆ‘å"],
                image: "",  // æ— å›¾ï¼Œå°†æ˜¾ç¤ºå ä½ä¿¡æ¯
                imageCaption: ""
            }
        ];

        // æ›´æ–°æ€»ç®€ç‰æ•°
        document.getElementById('totalCount').innerText = corpus.length;

        // æ¸²æŸ“å¡ç‰‡ (æ¥æ”¶æ•°ç»„)
        function renderCards(dataArray) {
            const container = document.getElementById('cardContainer');
            const resultCountSpan = document.getElementById('resultCount');

            if (!dataArray || dataArray.length === 0) {
                container.innerHTML = '<div class="no-result">ğŸ•Šï¸ æœªæ£€ç´¢åˆ°ç›¸å…³ç®€ç‰ Â· è¯·å°è¯•å…¶ä»–å…³é”®è¯</div>';
                resultCountSpan.innerText = 'å…± 0 æ¡ç»“æœ';
                return;
            }

            // æ›´æ–°ç»“æœæ¡æ•°
            resultCountSpan.innerText = `å…± ${dataArray.length} æ¡ç»“æœ`;

            let html = '';
            dataArray.forEach(item => {
                // å¤„ç†å…³é”®è¯æ ‡ç­¾
                let keywordsHtml = '';
                if (item.keywords && item.keywords.length) {
                    item.keywords.forEach(kw => {
                        keywordsHtml += `<span class="keyword">ğŸ·ï¸ ${kw}</span>`;
                    });
                }

                // å¤„ç†å›¾ç‰‡åŒºåŸŸ â€”â€” å¦‚æœæœ‰å›¾å°±æ˜¾ç¤ºå›¾ï¼Œæ²¡å›¾æ˜¾ç¤ºæ–‡å­—
                let imageHtml = '';
                if (item.image && item.image.trim() !== '') {
                    imageHtml = `
                        <div class="image-area">
                            <img src="${item.image}" alt="${item.id}ç®€ç‰å›¾" loading="lazy">
                            <div style="margin-top:6px; font-size:0.8rem; color:#7b6e5c;">${item.imageCaption || 'ç®€ç‰å›¾åƒ'}</div>
                        </div>
                    `;
                } else {
                    imageHtml = `
                        <div class="image-area no-image">
                            âš¬ æš‚æ— å¯¹åº”å›¾åƒ Â· å¾…è¡¥
                        </div>
                    `;
                }

                // æ‹¼æ¥å¡ç‰‡
                html += `
                    <div class="card">
                        <span class="jian-number">âº ${item.id}</span>
                        <div class="chinese">${item.chinese}</div>
                        <div class="english">â€œ ${item.english} â€</div>
                        <div class="meta">
                            <span>ğŸ“– ${item.translator || 'ä½šå'} Â· ${item.year || 'æ— å¹´'}</span>
                            <span>ğŸ“‚ ${item.type || 'æœªåˆ†ç±»'}</span>
                        </div>
                        <div class="meta" style="margin-top:-0.2rem;">
                            ${keywordsHtml}
                        </div>
                        ${imageHtml}
                    </div>
                `;
            });

            container.innerHTML = html;
        }

        // é‡ç½®æœç´¢ï¼šæ˜¾ç¤ºå…¨éƒ¨
        window.resetSearch = function() {
            document.getElementById('searchInput').value = '';
            renderCards(corpus);
        };

        // æ‰§è¡Œæœç´¢ï¼ˆå…³é”®è¯åŒ¹é…ï¼šç®€å·ã€ä¸­æ–‡ã€è‹±æ–‡ã€å…³é”®è¯ã€ç±»å‹ã€è¯‘è€…ç­‰ï¼‰
        function performSearch() {
            const query = document.getElementById('searchInput').value.trim().toLowerCase();
            if (query === '') {
                renderCards(corpus);
                return;
            }

            const filtered = corpus.filter(item => {
                // åœ¨å¤šä¸ªå­—æ®µé‡Œè¿›è¡Œæ¨¡ç³ŠåŒ¹é…
                const inId = item.id.toLowerCase().includes(query);
                const inChinese = item.chinese.toLowerCase().includes(query);
                const inEnglish = item.english.toLowerCase().includes(query);
                const inTranslator = (item.translator || '').toLowerCase().includes(query);
                const inSource = (item.source || '').toLowerCase().includes(query);
                const inType = (item.type || '').toLowerCase().includes(query);
                
                // å…³é”®è¯æ•°ç»„åŒ¹é…
                let inKeywords = false;
                if (item.keywords && item.keywords.length) {
                    inKeywords = item.keywords.some(kw => kw.toLowerCase().includes(query));
                }

                return inId || inChinese || inEnglish || inTranslator || inSource || inType || inKeywords;
            });

            renderCards(filtered);
        }

        // ç›‘å¬æœç´¢æŒ‰é’®
        document.getElementById('searchBtn').addEventListener('click', performSearch);

        // ç›‘å¬è¾“å…¥æ¡†æŒ‰å›è½¦
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearch();
            }
        });

        // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºæ‰€æœ‰è¯­æ–™
        window.onload = function() {
            renderCards(corpus);
        };
    </script>
</body>
</html>